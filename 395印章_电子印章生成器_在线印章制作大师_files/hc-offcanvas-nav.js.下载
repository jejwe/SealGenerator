/*
 * HC Off-canvas Nav
 * ===================
 * Version: 3.5.0
 * Author: Some Web Media
 * Author URL: https://github.com/somewebmedia/
 * Plugin URL: https://github.com/somewebmedia/hc-offcanvas-nav
 * Description: jQuery plugin for creating off-canvas multi-level navigations
 * License: MIT
 */
"use strict";function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}!function(z,n){var i,K=n.document,V=z(K.getElementsByTagName("html")[0]),G=z(K),J=(/iPad|iPhone|iPod/.test(navigator.userAgent)||!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))&&!n.MSStream,R="ontouchstart"in n||navigator.maxTouchPoints||n.DocumentTouch&&K instanceof DocumentTouch,X=function(n){return!isNaN(parseFloat(n))&&isFinite(n)},Y=function(n){return n.stopPropagation()},Z=function(e){return function(n){n.preventDefault(),n.stopPropagation(),"function"==typeof e&&e()}},nn=function(n,e,t){var a=t.children(),o=a.length,i=-1<e?Math.max(0,Math.min(e-1,o)):Math.max(0,Math.min(o+e+1,o));0===i?t.prepend(n):a.eq(i-1).after(n)},en=function(n){return-1!==["left","right"].indexOf(n)?"x":"y"},tn=(i=function(n){var e=["Webkit","Moz","Ms","O"],t=(K.body||K.documentElement).style,a=n.charAt(0).toUpperCase()+n.slice(1);if(void 0!==t[n])return n;for(var o=0;o<e.length;o++)if(void 0!==t[e[o]+a])return e[o]+a;return!1}("transform"),function(n,e,t){if(i)if(0===e)n.css(i,"");else if("x"===en(t)){var a="left"===t?e:-e;n.css(i,a?"translate3d(".concat(a,"px,0,0)"):"")}else{var o="top"===t?e:-e;n.css(i,o?"translate3d(0,".concat(o,"px,0)"):"")}else n.css(t,e)}),e=function(n,e,t){console.warn("%cHC Off-canvas Nav:%c "+t+"%c '"+n+"'%c is now deprecated and will be removed. Use%c '"+e+"'%c instead.","color: #fa253b","color: default","color: #5595c6","color: default","color: #5595c6","color: default")},an=0;z.fn.extend({hcOffcanvasNav:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};if(!this.length)return this;var _=this,F=z(K.body);n.side&&(e("side","position","option"),n.position=n.side);var I=z.extend({},{maxWidth:1024,pushContent:!1,position:"left",levelOpen:"overlap",levelSpacing:40,levelTitles:!1,levelTitlesAsBack:!1,navTitle:null,navClass:"",disableBody:!0,closeOnClick:!0,customToggle:null,bodyInsert:"prepend",removeOriginalNav:!1,rtl:!1,insertClose:!0,insertBack:!0,labelClose:"Close",labelBack:"Back"},n),L=[],Q="nav-open",U=function(n){if(!L.length)return!1;var e=!1;"string"==typeof n&&(n=[n]);for(var t=n.length,a=0;a<t;a++)-1!==L.indexOf(n[a])&&(e=!0);return e};return this.each(function(){var e=z(this);if(e.find("ul").addBack("ul").length){var n,o,i,c,a,s,k="hc-nav-".concat(++an),l=(n="hc-offcanvas-".concat(an,"-style"),o=z('<style id="'.concat(n,'">')).appendTo(z("head")),i={},c={},a=function(n){return";"!==n.substr(-1)&&(n+=";"!==n.substr(-1)?";":""),n},{reset:function(){i={},c={}},add:function(n,e,t){n=n.trim(),e=e.trim(),t?(t=t.trim(),c[t]=c[t]||{},c[t][n]=a(e)):i[n]=a(e)},remove:function(n,e){n=n.trim(),e?(e=e.trim(),void 0!==c[e][n]&&delete c[e][n]):void 0!==i[n]&&delete i[n]},insert:function(){var n="";for(var e in c){for(var t in n+="@media screen and (".concat(e,") {\n"),c[e])n+="".concat(t," { ").concat(c[e][t]," }\n");n+="}\n"}for(var a in i)n+="".concat(a," { ").concat(i[a]," }\n");o.html(n)}}),r="keydown.hc-offcanvas-nav";e.addClass("hc-nav ".concat(k));var t,d,p,v=z("<nav>").on("click",Y),f=z('<div class="nav-container">').appendTo(v),u=null,h={},m=!1,g=0,b=0,y=0,x=null,C={},O=[],T=!1,w=[];I.customToggle?s=z(I.customToggle).addClass("hc-nav-trigger ".concat(k)).on("click",W):(s=z('<a href="#" class="hc-nav-trigger '.concat(k,'"><span></span></a>')).on("click",W),e.after(s)),s.on("keydown",function(n){"Enter"!==n.key&&13!==n.keyCode||setTimeout(function(){q(v,0)},10)}),G.on("keydown",function(n){"Escape"!==n.key&&27!==n.keyCode||H()});var B=function(){G.off(r),s[0].focus()},S=function(){f.css("transition","none"),b=f.outerWidth(),y=f.outerHeight(),l.add(".hc-offcanvas-nav.".concat(k,".nav-position-left .nav-container"),"transform: translate3d(-".concat(b,"px, 0, 0)")),l.add(".hc-offcanvas-nav.".concat(k,".nav-position-right .nav-container"),"transform: translate3d(".concat(b,"px, 0, 0)")),l.add(".hc-offcanvas-nav.".concat(k,".nav-position-top .nav-container"),"transform: translate3d(0, -".concat(y,"px, 0)")),l.add(".hc-offcanvas-nav.".concat(k,".nav-position-bottom .nav-container"),"transform: translate3d(0, ".concat(y,"px, 0)")),l.insert(),f.css("transition",""),N()},N=function(){var n;t=f.css("transition-property").split(",")[0],n=f.css("transition-duration").split(",")[0],d=parseFloat(n)*(/\ds$/.test(n)?1e3:1),p=f.css("transition-timing-function").split(",")[0],I.pushContent&&u&&t&&l.add(function n(e){return"string"==typeof e?e:e.attr("id")?"#"+e.attr("id"):e.attr("class")?e.prop("tagName").toLowerCase()+"."+e.attr("class").replace(/\s+/g,"."):n(e.parent())+" "+e.prop("tagName").toLowerCase()}(I.pushContent),"transition: ".concat(t," ").concat(d,"ms ").concat(p)),l.insert()},P=function(n){var e=s.css("display"),t=!!I.maxWidth&&"max-width: ".concat(I.maxWidth-1,"px");U("maxWidth")&&l.reset(),l.add(".hc-offcanvas-nav.".concat(k),"display: block",t),l.add(".hc-nav-trigger.".concat(k),"display: ".concat(e&&"none"!==e?e:"block"),t),l.add(".hc-nav.".concat(k),"display: none",t),l.add(".hc-offcanvas-nav.".concat(k,".nav-levels-overlap.nav-position-left li.level-open > .nav-wrapper"),"transform: translate3d(-".concat(I.levelSpacing,"px,0,0)"),t),l.add(".hc-offcanvas-nav.".concat(k,".nav-levels-overlap.nav-position-right li.level-open > .nav-wrapper"),"transform: translate3d(".concat(I.levelSpacing,"px,0,0)"),t),l.add(".hc-offcanvas-nav.".concat(k,".nav-levels-overlap.nav-position-top li.level-open > .nav-wrapper"),"transform: translate3d(0,-".concat(I.levelSpacing,"px,0)"),t),l.add(".hc-offcanvas-nav.".concat(k,".nav-levels-overlap.nav-position-bottom li.level-open > .nav-wrapper"),"transform: translate3d(0,".concat(I.levelSpacing,"px,0)"),t),l.insert(),(!n||n&&U("pushContent"))&&("string"==typeof I.pushContent?(u=z(I.pushContent)).length||(u=null):u=I.pushContent instanceof jQuery?I.pushContent:null),f.css("transition","none");var a=v.hasClass(Q),o=["hc-offcanvas-nav",I.navClass||"",k,I.navClass||"","nav-levels-"+I.levelOpen||"none","nav-position-"+I.position,I.disableBody?"disable-body":"",J?"is-ios":"",R?"touch-device":"",a?Q:"",I.rtl?"rtl":""].join(" ");v.off("click").attr("class","").attr("aria-hidden",!0).addClass(o),I.disableBody&&v.on("click",H),n?S():setTimeout(S,1)},E=function(){var n;h=function c(n){var e=[];return n.each(function(){var n=z(this),i={classes:n.attr("class"),items:[]};n.children("li").each(function(){var n=z(this),e=void 0!==n.data("nav-custom-content"),t=e?n.children():n.children().filter(function(){var n=z(this);return n.is(":not(ul)")&&!n.find("ul").length}).add(n.contents().filter(function(){return 3===this.nodeType&&this.nodeValue.trim()})),a=e?z():n.find("ul"),o=a.first().add(a.first().siblings("ul"));o.length&&!n.data("hc-uniqid")&&n.data("hc-uniqid",Math.random().toString(36).substr(2)+"-"+Math.random().toString(36).substr(2)),i.items.push({uniqid:n.data("hc-uniqid")||null,classes:n.attr("class"),$content:t,subnav:o.length?c(o):[],custom:e})}),e.push(i)}),e}((n=e.find("ul").addBack("ul")).first().add(n.first().siblings("ul")))},M=function(n){n&&(f.empty(),C={}),function m(n,e,g,b,t,a){var y=z('<div class="nav-wrapper nav-wrapper-'.concat(g,'">')).appendTo(e).on("click",Y),o=z('<div class="nav-content">').appendTo(y);if(b&&o.prepend("<h2>".concat(b,"</h2>")),z.each(n,function(n,e){var h=z("<ul>").addClass(e.classes).appendTo(o);z.each(e.items,function(n,e){var t=e.$content;if(e.custom){var a=z('<li class="custom-content">').addClass(e.classes).append(z('<div class="nav-item nav-item-custom">').append(t.clone(!0,!0)));h.append(a)}else{var o=t.find("a").addBack("a"),i=o.length?o.clone(!1,!0).addClass("nav-item"):z("<".concat(e.subnav.length?'a href="#"':"span",' class="nav-item">')).append(t.clone(!0,!0)).on("click",Y);o.length&&(i.on("click",function(n){n.stopPropagation(),(z._data(o[0],"events")||{}).click&&o[0].click()}),void 0!==i.attr("href")&&"#"!==i.attr("href")&&i.attr("tabindex","0")),"#"===i.attr("href")&&(i.attr("tabindex",e.subnav.length?"-1":"0"),i.on("click",function(n){n.preventDefault()})),I.closeOnClick&&(!1===I.levelOpen||"none"===I.levelOpen?i.filter("a").filter('[data-nav-close!="false"]:not([disabled])').on("click",H):i.filter("a").filter('[data-nav-close!="false"]:not([disabled])').filter(function(){var n=z(this);return!e.subnav.length||n.attr("href")&&"#"!==n.attr("href").charAt(0)}).on("click",H));var c=z("<li>").addClass(e.classes).append(i);if(h.append(c),I.levelSpacing&&("expand"===I.levelOpen||!1===I.levelOpen||"none"===I.levelOpen)){var s=I.levelSpacing*g;s&&h.css("text-indent","".concat(s,"px"))}if(e.subnav.length){var l=g+1,r=e.uniqid,d="";if(C[l]||(C[l]=0),c.addClass("nav-parent"),!1!==I.levelOpen&&"none"!==I.levelOpen){var p=C[l],v=z('<span class="nav-next">').appendTo(i),f=z('<label for="'.concat(k,"-").concat(l,"-").concat(p,'" tabindex="0">')).on("click",Y).on("keydown",function(n){if("Enter"===n.key||13===n.keyCode){var e=z(this);T=!0,w.push(e),e.click()}}),u=z('<input type="checkbox" id="'.concat(k,"-").concat(l,"-").concat(p,'" tabindex="-1">')).attr("data-level",l).attr("data-index",p).val(r).on("click",Y).on("change",j);-1!==O.indexOf(r)&&(y.addClass("sub-level-open").on("click",function(){return $(l,p)}),c.addClass("level-open"),u.prop("checked",!0)),c.prepend(u),d=!0===I.levelTitles?t.text().trim():"",i.attr("href")&&"#"!==i.attr("href")?(v.append(f),i.attr("data-focusable",!1)):i.prepend(f.on("click",function(){z(this).parent().trigger("click")}))}C[l]++,m(e.subnav,c,l,d,C[l]-1,b)}}})}),g&&void 0!==t&&!1!==I.insertBack&&"overlap"===I.levelOpen){var i=o.children("ul"),c=I.levelTitlesAsBack&&a||I.labelBack||"",s=z('<li class="nav-back"><a href="#" tabindex="0">'.concat(c,"<span></span></a></li>"));s.children("a").on("click",Z(function(){return $(g,t)})).on("keydown",function(n){"Enter"!==n.key&&13!==n.keyCode||(T=!0)}),!0===I.insertBack?i.first().prepend(s):X(I.insertBack)&&nn(s,I.insertBack,i)}if(0===g&&!1!==I.insertClose){var l=o.children("ul"),r=z('<li class="nav-close"><a href="#" tabindex="0">'.concat(I.labelClose||"","<span></span></a></li>"));r.children("a").on("click",Z(H)),!0===I.insertClose?l.first().prepend(r):X(I.insertClose)&&nn(r,I.insertClose,l.first().add(l.first().siblings("ul")))}}(h,f,0,I.navTitle)};P(),E(),M(),"prepend"===I.bodyInsert?F.prepend(v):"append"===I.bodyInsert&&F.append(v),!0===I.removeOriginalNav&&e.remove();var D=function(n,e,t){var a=z("#".concat(k,"-").concat(n,"-").concat(e)),o=a.val(),i=a.parent("li"),c=i.closest(".nav-wrapper");if(a.prop("checked",!1),c.removeClass("sub-level-open"),i.removeClass("level-open"),-1!==O.indexOf(o)&&O.splice(O.indexOf(o),1),t&&"overlap"===I.levelOpen&&(c.off("click").on("click",Y),tn(f,(n-1)*I.levelSpacing,I.position),u)){var s="x"===en(I.position)?b:y;tn(u,s+(n-1)*I.levelSpacing,I.position)}};_.settings=function(n){return n?I[n]:Object.assign({},I)},_.isOpen=function(){return v.hasClass(Q)},_.open=A,_.close=H,_.update=function(n,e){if(L=[],"object"===_typeof(n)){for(var t in n)I[t]!==n[t]&&L.push(t);I=z.extend({},I,n)}if(!0===n||!0===e){if(I.removeOriginalNav)return void console.warn("%c! HC Offcanvas Nav:%c Can't update because original navigation has been removed. Disable `removeOriginalNav` option.","color: #fa253b","color: default");P(!0),E(),M(!0)}else P(!0),M(!0)}}else console.error("%c! HC Offcanvas Nav:%c Menu must contain <ul> element.","color: #fa253b","color: default");function q(n,e){if(void 0!==e||w.length){var t='[tabindex=0], a[href], button, textarea, input[type="text"], input[type="radio"], input[type="checkbox"], select',a=n.find(".nav-content:first").children("ul").children("li").children(":not(.nav-wrapper)").find(t).addBack(t).filter(":not([tabindex=-1])");if(a.length){var o=a.first(),i=a.last();void 0===e?(w[w.length-1].focus(),w.pop()):a.eq(e).focus(),G.off(r),G.on(r,function(n){("Tab"===n.key||9===n.keyCode)&&(n.shiftKey?K.activeElement===o[0]&&(n.preventDefault(),i.focus()):K.activeElement===i[0]&&(n.preventDefault(),o.focus()))})}}}function j(){var n=z(this),e=Number(n.attr("data-level")),t=Number(n.attr("data-index"));n.prop("checked")?function(n,e){var t=z("#".concat(k,"-").concat(n,"-").concat(e)),a=t.val(),o=t.parent("li"),i=o.closest(".nav-wrapper");if(i.addClass("sub-level-open"),o.addClass("level-open"),-1===O.indexOf(a)&&O.push(a),"overlap"===I.levelOpen&&(i.on("click",function(){return $(n,e)}),tn(f,n*I.levelSpacing,I.position),u)){var c="x"===en(I.position)?b:y;tn(u,c+n*I.levelSpacing,I.position)}T&&(q(o.children(".nav-wrapper"),0),T=!1)}(e,t):$(e,t)}function A(){if(m=!0,v.css("visibility","visible").attr("aria-hidden",!1).addClass(Q),s.addClass("toggle-open"),"expand"===I.levelOpen&&x&&clearTimeout(x),I.disableBody&&(g=V.scrollTop()||F.scrollTop(),K.documentElement.scrollHeight>K.documentElement.clientHeight&&V.addClass("hc-nav-yscroll"),F.addClass("hc-nav-open"),g&&F.css("top",-g)),u){var n="x"===en(I.position)?b:y;tn(u,n,I.position)}setTimeout(function(){_.trigger("open",z.extend({},I))},d+1)}function H(){m=!1,u&&tn(u,0),v.removeClass(Q).attr("aria-hidden",!0),f.removeAttr("style"),s.removeClass("toggle-open"),"expand"===I.levelOpen&&-1!==["top","bottom"].indexOf(I.position)?$(0):!1!==I.levelOpen&&"none"!==I.levelOpen&&(x=setTimeout(function(){$(0)},"expand"===I.levelOpen?d:0)),I.disableBody&&(F.removeClass("hc-nav-open"),V.removeClass("hc-nav-yscroll"),g&&(F.css("top","").scrollTop(g),V.scrollTop(g),g=0)),B(),setTimeout(function(){v.css("visibility",""),_.trigger("close.$",z.extend({},I)),_.trigger("close.once",z.extend({},I)).off("close.once")},d+1)}function W(n){n.preventDefault(),n.stopPropagation(),m?H():A()}function $(n,e){for(var t=n;t<=Object.keys(C).length;t++)if(t==n&&void 0!==e)D(n,e,!0);else for(var a=0;a<C[t];a++)D(t,a,t==n);T&&(q(z("#".concat(k,"-").concat(n,"-").concat(e)).closest(".nav-wrapper")),T=!1)}})}})}(jQuery,"undefined"!=typeof window?window:this);